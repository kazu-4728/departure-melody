# AGENTS.md

## 📘 プロジェクト概要

このリポジトリは、JR東日本の発車メロディ再生Webアプリを構築するための静的HTMLプロジェクトです。  
使用技術は以下の通りです：

- HTML / CSS / JavaScript（Node.jsは使用しません）
- 外部音源リンク（YouTube）とローカル画像を組み合わせたブラウザ再生機能
- JSONファイルによるデータ管理（駅名・路線・音源マッピング）

## 🤖 AIエージェントへの指示（Codexなど）

### 🚫 実行環境に関する制約

- `npm` や `package.json` は本プロジェクトには**存在しません**。`npm test` は絶対に実行しないでください。
- Node.js や CI/CD、自動テストコマンドは**必要ありません**。
- `test/` ディレクトリにJSONが存在する場合のみ、静的テスト用のデータと認識してください。

### 📂 作業ブランチのルール

- 作業は必ず `codex-dev` ブランチ上で行ってください。
- `main` ブランチには**絶対に直接 push しないでください**。
- 完了後は Pull Request を作成してください。

### 🛠 作業内容の基本ルール

- 画像は `img/` フォルダに配置。HTML内から相対パスで参照してください。
- 駅・路線・音源データは `station_index.js` および `lines/*.json` に定義します。
- JSON構造の整合性を崩さないように更新してください。
- `index.html` のUI構造は変更せず、非破壊で機能を拡張してください。

### ✅ 作業の優先順位

1. 必要な音源付き駅データ（最大500駅）を段階的に `lines/` に追加
2. 駅名・路線検索の補完強化（インクリメンタル検索対応）
3. UIのアプリ化（電車画像、子供が使いやすいレイアウト）
4. iPhone互換性を意識した動作確認（特に画像表示と音声再生）

## ✅ テストについて

- 自動テストは存在しません。
- テストファイル（例：`test/sample.json`）は**静的検証用のサンプル**として設置することがあります。
- Codexがテストを試行する場合、ファイル存在確認のみに留めてください。

## 🧭 管理者方針

- UI変更なしで機能追加することが最優先です。
- JSON構造やリンク切れなどの破壊的変更は禁止です。
- Codexは差分確認を徹底し、壊れない作業履歴を維持してください。
